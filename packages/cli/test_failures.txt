
> @terminai/cli@0.28.0 test
> vitest run --passWithNoTests --no-color


 RUN  v3.2.4 /home/profharita/Code/terminaI/packages/cli
      Coverage enabled with v8


ğŸŒ Web Remote available at: http://127.0.0.1:41242/ui?token=008680d13eeae06dd791150337049d8f3fc3b201b1f870fd604a00af69687b2f
   (assets served from /home/profharita/Code/terminaI/packages/cli/packages/web-client)
stdout | src/utils/webRemoteServer.test.ts > webRemoteServer > starts server and sets allowed origins
â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„
â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–„â–€â–€â–„â–„  â–ˆâ–ˆ  â–€â–ˆâ–ˆâ–ˆâ–ˆâ–„ â–€â–ˆ â–ˆ â–„â–„â–„â–„â–„ â–ˆ
â–ˆ â–ˆ   â–ˆ â–ˆâ–ˆâ–ˆâ–„â–ˆ  â–„â–„â–„â–€ â–ˆâ–ˆ â–€â–„â–ˆ â–€ â–ˆâ–ˆ â–ˆ   â–ˆ â–ˆ
â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–ˆâ–„â–€â–„â–€â–€ â–ˆâ–€â–„â–€â–„ â–„ â–€ â–ˆâ–ˆâ–ˆâ–€â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ
â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ â–ˆ â–€â–„â–€ â–ˆâ–„â–ˆ â–ˆ â–ˆ â–ˆâ–„â–€ â–€ â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ
â–ˆâ–„ â–€â–„â–„â–ˆâ–„â–€â–€ â–„â–„â–€â–ˆâ–ˆ â–€â–„â–„ â–ˆâ–ˆâ–„â–€â–„â–€â–ˆâ–€â–„â–€â–„â–ˆâ–€â–€â–ˆâ–ˆâ–„â–ˆ
â–ˆâ–€ â–„â–€â–€â–„â–„â–„â–„â–ˆ  â–€â–„â–ˆâ–„   â–€ â–„â–ˆ â–„â–ˆâ–„â–„â–„â–„ â–€â–„â–ˆ  â–„â–ˆ
â–ˆâ–€â–„ â–„â–ˆâ–ˆâ–„â–„  â–ˆâ–„â–„â–ˆâ–„  â–ˆâ–„â–„â–„â–ˆ  â–„â–€â–„   â–„â–€â–€ â–€ â–ˆâ–ˆ
â–ˆ â–€â–€â–ˆâ–€â–„â–„â–ˆâ–„â–€â–ˆ â–„â–„â–ˆâ–„â–„â–ˆâ–„  â–„â–ˆâ–€â–„â–ˆ  â–€â–ˆâ–„â–„â–„â–ˆâ–€â–ˆ â–ˆ
â–ˆâ–€â–€â–ˆâ–€â–€â–ˆâ–„â–ˆâ–ˆâ–„ â–€â–€â–„   â–€â–€â–€â–ˆâ–ˆâ–ˆâ–„â–€  â–€â–ˆâ–„â–„â–„â–ˆâ–ˆ â–„â–„â–ˆ
â–ˆâ–ˆ  â–ˆ â–ˆâ–„â–€â–ˆâ–€â–ˆâ–„â–€â–€â–€â–„â–„â–ˆ â–„â–„â–„â–„â–„    â–€â–ˆ â–€ â–ˆâ–„â–ˆ â–ˆ
â–ˆâ–„â–ˆâ–€â–„â–ˆâ–„â–„â–„â–€ â–€â–ˆâ–„â–€â–ˆ â–€â–„â–„ â–ˆâ–ˆâ–„â–€â–€â–ˆâ–ˆâ–€â–„â–€â–„â–ˆ â–ˆâ–€ â–„â–ˆ
â–ˆâ–ˆ â–€â–ˆ â–„â–„  â–„ â–ˆâ–„â–ˆâ–„ â–ˆ â–„â–ˆâ–„â–ˆâ–ˆ â–ˆâ–ˆâ–„â–„â–ˆ â–„â–€â–€â–„ â–€ â–ˆ
â–ˆâ–€â–„â–€   â–„â–„ â–„â–ˆâ–ˆâ–€â–€â–„ â–ˆâ–ˆâ–€â–ˆâ–€â–ˆ  â–„â–€â–€ â–€â–„â–„ â–€â–€â–ˆâ–€â–„â–ˆ
â–ˆ â–„ â–„â–ˆâ–€â–„â–„ â–ˆâ–€â–ˆâ–€â–ˆâ–„â–„â–„â–„â–€â–„â–ˆâ–ˆâ–„â–ˆâ–€â–„  â–ˆ â–ˆâ–„â–€â–ˆâ–€â–„ â–ˆ
â–ˆâ–„â–ˆâ–„â–ˆâ–„â–ˆâ–„â–ˆâ–€â–„â–„ â–„â–„â–ˆ â–ˆâ–ˆâ–„â–€ â–ˆâ–ˆâ–„â–„â–„ â–€ â–„â–„â–„  â–„ â–ˆâ–ˆ
â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–€ â–€â–„â–€   â–„  â–€â–ˆâ–€â–„â–ˆ â–„â–ˆ â–ˆâ–„â–ˆ â–„â–ˆâ–ˆ â–ˆ
â–ˆ â–ˆ   â–ˆ â–ˆ â–„â–„â–„ â–ˆâ–ˆ â–„â–„â–„â–€ â–ˆâ–„â–€â–„â–ˆâ–ˆ     â–„â–ˆâ–€â–ˆâ–„â–ˆ
â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–€â–„â–ˆâ–„â–„â–„â–„â–„â–€â–€â–ˆâ–ˆ â–„â–€ â–ˆâ–„ â–„â–„â–ˆâ–€â–ˆ â–„â–€â–€ â–ˆ
â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–„â–„â–„â–„â–„â–ˆâ–ˆâ–„â–ˆâ–ˆâ–„â–„â–ˆâ–ˆâ–„â–„â–„â–ˆâ–ˆâ–ˆâ–„â–ˆâ–„â–ˆâ–ˆâ–„â–ˆâ–ˆâ–„â–ˆ


 âœ“ src/utils/webRemoteServer.test.ts (3 tests) 7644ms
   âœ“ webRemoteServer > detects loopback hosts  7471ms
 â¯ src/validateNonInterActiveAuth.test.ts (17 tests | 17 failed) 48ms
   Ã— validateNonInterActiveAuth > exits if no auth type is configured or env vars set 25ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses LOGIN_WITH_GOOGLE if GOOGLE_GENAI_USE_GCA is set 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses USE_GEMINI if GEMINI_API_KEY is set 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses USE_VERTEX_AI if GOOGLE_GENAI_USE_VERTEXAI is true (with GOOGLE_CLOUD_PROJECT and GOOGLE_CLOUD_LOCATION) 2ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses USE_VERTEX_AI if GOOGLE_GENAI_USE_VERTEXAI is true and GOOGLE_API_KEY is set 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses LOGIN_WITH_GOOGLE if GOOGLE_GENAI_USE_GCA is set, even with other env vars 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses USE_VERTEX_AI if both GEMINI_API_KEY and GOOGLE_GENAI_USE_VERTEXAI are set 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses USE_GEMINI if GOOGLE_GENAI_USE_VERTEXAI is false, GEMINI_API_KEY is set, and project/location are available 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > uses configuredAuthType over environment variables 2ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > exits if validateAuthMethod returns error 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > skips validation if useExternalAuth is true 2ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > succeeds if effectiveAuthType matches enforcedAuthType 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > exits if configuredAuthType does not match enforcedAuthType 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > exits if auth from env var does not match enforcedAuthType 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > JSON output mode > prints JSON error when no auth is configured and exits with code 41 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > JSON output mode > prints JSON error when enforced auth mismatches current auth and exits with code 41 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— validateNonInterActiveAuth > JSON output mode > prints JSON error when validateAuthMethod fails and exits with code 41 2ms
     â†’ (0 , makeFakeConfig) is not a function
 â¯ src/ui/hooks/useQuotaAndFallback.test.ts (12 tests | 12 failed) 20ms
   Ã— useQuotaAndFallback > should register a fallback handler on initialization 8ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > should return null and take no action if authType is not LOGIN_WITH_GOOGLE 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > Interactive Fallback > should set an interactive request for a terminal quota error 0ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > Interactive Fallback > should handle race conditions by stopping subsequent requests 0ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > Interactive Fallback > should handle generic error correctly 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > Interactive Fallback > should handle retryable quota error correctly 2ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > Fallback Handler Logic > Interactive Fallback > should handle ModelNotFoundError correctly 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > handleProQuotaChoice > should do nothing if there is no pending pro quota request 0ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > handleProQuotaChoice > should resolve intent to "retry_later" 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > handleProQuotaChoice > should resolve intent to "retry_always" and add info message on continue 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > handleProQuotaChoice > should show a special message when falling back from the preview model 1ms
     â†’ (0 , makeFakeConfig) is not a function
   Ã— useQuotaAndFallback > handleProQuotaChoice > should show a special message when falling back from the preview model, but do not show periodical check message for flash model fallback 2ms
     â†’ (0 , makeFakeConfig) is not a function
 âœ“ src/nonInteractiveCli.test.ts (35 tests) 596ms
   âœ“ runNonInteractive > should handle cancellation (Ctrl+C)  406ms
 â¯ src/ui/components/AppHeader.test.tsx (8 tests | 8 failed) 17ms
   Ã— <AppHeader /> > should render the banner with default text 12ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should render the banner with warning text 1ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should not render the banner when no flags are set 1ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should render the banner when previewFeatures is disabled 1ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should not render the banner when previewFeatures is enabled 1ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should not render the default banner if shown count is 5 or more 0ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should increment the version count when default banner is displayed 0ms
     â†’ makeFakeConfig is not a function
   Ã— <AppHeader /> > should render banner text with unescaped newlines 0ms
     â†’ makeFakeConfig is not a function
 âœ“ src/ui/hooks/useShellHistory.test.ts (7 tests) 575ms
 âœ“ src/ui/hooks/useSlashCompletion.test.ts (25 tests) 611ms
 âœ“ src/ui/components/messages/DiffRenderer.test.tsx (26 tests) 723ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to ForwardRef(ScrollableList) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to ForwardRef(ScrollableList) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/shared/ScrollableList.test.tsx (3 tests) 1250ms
   âœ“ ScrollableList Demo Behavior > should scroll to bottom when new items are added and stop when scrolled up  366ms
   âœ“ ScrollableList Demo Behavior > Keyboard Navigation > should handle scroll keys correctly  833ms
stderr | src/services/BuiltinCommandLoader.test.ts > BuiltinCommandLoader profile > should not include profile command when isDevelopment is false
Current logger will be overwritten from Error: 
    at DiagAPI.setLogger (/home/profharita/Code/terminaI/node_modules/@opentelemetry/api/src/api/diag.ts:97:23)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/sdk.ts:92:6
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
    at VitestExecutor.cachedRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:189:11)
    at VitestExecutor.dependencyRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:239:10)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/loggers.ts:74:1
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
Current logger will overwrite one already registered from Error: 
    at DiagAPI.setLogger (/home/profharita/Code/terminaI/node_modules/@opentelemetry/api/src/api/diag.ts:97:23)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/sdk.ts:92:6
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
    at VitestExecutor.cachedRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:189:11)
    at VitestExecutor.dependencyRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:239:10)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/loggers.ts:74:1
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)

 âœ“ src/ui/components/messages/ToolGroupMessage.test.tsx (19 tests) 710ms
 âœ“ src/ui/components/ThemeDialog.test.tsx (9 tests) 1120ms
   âœ“ ThemeDialog Snapshots > should render correctly in theme selection mode  404ms
 âœ“ src/ui/hooks/useAtCompletion.test.ts (15 tests) 1668ms
 âœ“ src/runtime/__tests__/windows-appcontainer.test.ts (23 tests | 8 skipped) 620ms
   âœ“ RuntimeManager Windows Tier Selection > isWindowsBrokerAvailable returns false on non-Windows  330ms
 âœ“ src/ui/components/HistoryItemDisplay.test.tsx (19 tests) 918ms
 âœ“ src/ui/components/InputPrompt.test.tsx (115 tests) 1901ms
stderr | src/services/BuiltinCommandLoader.test.ts > BuiltinCommandLoader profile > should include profile command when isDevelopment is true
Current logger will be overwritten from Error: 
    at DiagAPI.setLogger (/home/profharita/Code/terminaI/node_modules/@opentelemetry/api/src/api/diag.ts:97:23)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/sdk.ts:92:6
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
    at VitestExecutor.cachedRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:189:11)
    at VitestExecutor.dependencyRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:239:10)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/loggers.ts:74:1
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
Current logger will overwrite one already registered from Error: 
    at DiagAPI.setLogger (/home/profharita/Code/terminaI/node_modules/@opentelemetry/api/src/api/diag.ts:97:23)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/sdk.ts:92:6
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)
    at VitestExecutor.cachedRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:189:11)
    at VitestExecutor.dependencyRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:239:10)
    at /home/profharita/Code/terminaI/packages/core/src/telemetry/loggers.ts:74:1
    at VitestExecutor.runModule (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:397:4)
    at VitestExecutor.directRequest (file:///home/profharita/Code/terminaI/node_modules/vite-node/dist/client.mjs:375:3)

 â¯ src/ui/AppContainer.test.tsx (62 tests | 62 failed) 291ms
   Ã— AppContainer State Management > Basic Rendering > renders without crashing with minimal props 26ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Basic Rendering > renders with startup warnings 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > State Initialization > initializes with theme error from initialization result 10ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > State Initialization > handles debug mode state 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Context Providers > provides AppContext with correct values 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Context Providers > provides UIStateContext with state management 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Context Providers > provides UIActionsContext with action handlers 7ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Context Providers > provides ConfigContext with config object 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Settings Integration > handles settings with all display options disabled 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Settings Integration > handles settings with memory usage enabled 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Version Handling > handles version format: 1.0.0 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Version Handling > handles version format: 2.1.3-beta 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Version Handling > handles version format: 3.0.0-nightly 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Error Handling > handles config methods that might throw 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Error Handling > handles undefined settings gracefully 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Provider Hierarchy > establishes correct provider nesting order 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Resumption > handles resumed session data correctly 6ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Resumption > renders without resumed session data 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Resumption > initializes chat recording service when config has it 7ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Recording Integration > provides chat recording service configuration 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Recording Integration > handles session recording when messages are added 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Resume Flow > accepts resumed session data 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Session Resume Flow > does not attempt resume when client is not initialized 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Token Counting from Session Stats > tracks token counts from session messages 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Quota and Fallback Integration > passes a null proQuotaRequest to UIStateContext by default 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Quota and Fallback Integration > passes a valid proQuotaRequest to UIStateContext when provided by the hook 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Quota and Fallback Integration > passes the handleProQuotaChoice function to UIActionsContext 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > verifies useStdout is mocked 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should not update terminal title when showStatusInTitle is false 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should not update terminal title when hideWindowTitle is true 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should update terminal title with thought subject when in active state 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should update terminal title with default text when in Idle state and no thought subject 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should update terminal title when in WaitingForConfirmation state with thought subject 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should pad title to exactly 80 characters 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should use correct ANSI escape code format 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Title Update Feature > should use CLI_TITLE environment variable when set 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Queue Error Message > should set and clear the queue error message after a timeout 26ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Queue Error Message > should reset the timer if a new error message is set 8ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Terminal Height Calculation > should prevent terminal height from being less than 1 15ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should cancel ongoing request on first press 5ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should quit on second press 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+C > should reset press count after a timeout 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should do nothing if text buffer is not empty 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should quit on second press if buffer is empty 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Keyboard Input Handling (CTRL+C / CTRL+D) > CTRL+D > should reset press count after a timeout 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Copy Mode (CTRL+S) > 'Normal Mode' > should NOT toggle mouse off when Ctrl+S is pressed 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should toggle mouse off when Ctrl+S is pressed 2ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should toggle mouse back on when Ctrl+S is pressed again 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Copy Mode (CTRL+S) > 'Alternate Buffer Mode' > should exit copy mode on any key press 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Model Dialog Integration > should provide isModelDialogOpen in the UIStateContext 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Model Dialog Integration > should provide model dialog actions in the UIActionsContext 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > CoreEvents Integration > subscribes to UserFeedback and drains backlog on mount 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > CoreEvents Integration > unsubscribes from UserFeedback on unmount 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > CoreEvents Integration > adds history item when UserFeedback event is received 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > CoreEvents Integration > updates currentModel when ModelChanged event is received 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Shell Interaction > should not crash if resizing the pty fails 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > passes replayEvents to useReplay hook 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Banner Text > should render placeholder banner text for USE_GEMINI auth type 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > onCancelSubmit Behavior > clears the prompt when onCancelSubmit is called with shouldRestorePrompt=false 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > onCancelSubmit Behavior > restores the prompt when onCancelSubmit is called with shouldRestorePrompt=true (or undefined) 4ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > onCancelSubmit Behavior > input history is independent from conversation history (survives /clear) 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   Ã— AppContainer State Management > Regression Tests > does not refresh static on startup if banner text is empty 3ms
     â†’ [vitest] No "makeFakeConfig" export is defined on the "@terminai/core" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should initialize with Unauthenticated state
Authenticated via "oauth-personal".

stderr | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should initialize with Unauthenticated state
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate if USE_GEMINI and key is found
Authenticated via "gemini-api-key".

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate if USE_GEMINI and env key is found
Authenticated via "gemini-api-key".
Authenticated via "gemini-api-key".

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should prioritize env key over stored key when both are present
Authenticated via "gemini-api-key".
Authenticated via "gemini-api-key".

stdout | src/ui/auth/useAuth.test.tsx > useAuth > useAuthCommand > should authenticate successfully for valid auth type
Authenticated via "oauth-personal".

 âœ“ src/ui/hooks/vim.test.tsx (87 tests) 533ms
 âœ“ src/ui/auth/useAuth.test.tsx (15 tests) 387ms
 âœ“ src/config/config.integration.test.ts (14 tests) 671ms
   âœ“ Configuration Integration Tests > Approval Mode Integration Tests > 'should parse --approval-mode=auto_ediâ€¦'  554ms
 âœ“ src/services/BuiltinCommandLoader.test.ts (10 tests) 5554ms
   âœ“ BuiltinCommandLoader profile > should not include profile command when isDevelopment is false  3332ms
   âœ“ BuiltinCommandLoader profile > should include profile command when isDevelopment is true  2185ms
 âœ“ src/ui/auth/AuthDialog.test.tsx (22 tests) 551ms
 âœ“ src/ui/components/FolderTrustDialog.test.tsx (8 tests) 395ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/auth/OpenAIChatGptOAuthSetupDialog.test.tsx (3 tests) 347ms
 âœ“ src/ui/components/messages/ToolConfirmationMessage.test.tsx (12 tests) 350ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/config/extension.test.ts (73 tests) 567ms
 âœ“ src/ui/utils/MarkdownDisplay.test.tsx (30 tests) 694ms
 âœ“ src/ui/components/shared/VirtualizedList.test.tsx (9 tests) 518ms
stdout | src/gemini_cleanup.test.tsx > gemini.tsx main function cleanup > should log error when cleanupExpiredSessions fails
[DEBUG] CLI: main() called

 âœ“ src/ui/contexts/KeypressContext.test.tsx (87 tests) 277ms
 âœ“ src/gemini_cleanup.test.tsx (1 test) 9473ms
   âœ“ gemini.tsx main function cleanup > should log error when cleanupExpiredSessions fails  9471ms
 âœ“ src/ui/components/shared/text-buffer.test.ts (166 tests) 371ms
 âœ“ src/ui/components/GradientRegression.test.tsx (5 tests) 385ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/StatsDisplay.test.tsx (14 tests) 456ms
 âœ“ src/ui/components/SessionBrowser.test.tsx (6 tests) 255ms
 âœ“ src/ui/components/messages/ToolMessageRawMarkdown.test.tsx (6 tests) 273ms
 âœ“ src/commands/extensions/examples/mcp-server/example.test.ts (7 tests) 212ms
 âœ“ src/services/FileCommandLoader.test.ts (40 tests) 419ms
 âœ“ src/ui/components/ModelStatsDisplay.test.tsx (7 tests) 210ms
 âœ“ src/ui/components/messages/ToolResultDisplay.test.tsx (8 tests) 321ms
 âœ“ src/ui/components/shared/MaxSizedBox.test.tsx (21 tests) 256ms
 âœ“ src/ui/hooks/useExtensionUpdates.test.tsx (4 tests) 222ms
stdout | src/commands/mcp/add.test.ts > mcp add command > should add a stdio server to project settings
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle multiple env vars before positional args
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an sse server to user settings
MCP server "sse-server" added to user settings. (sse)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an http server to project settings
MCP server "http-server" added to project settings. (http)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an sse server using --type alias
MCP server "sse-server" added to user settings. (sse)

stdout | src/commands/mcp/add.test.ts > mcp add command > should add an http server using --type alias
MCP server "http-server" added to project settings. (http)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle MCP server args with -- separator
MCP server "my-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > should handle unknown options as MCP server args
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use project scope when --scope=project is used
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a project directory > should use user scope when --scope=user is used
MCP server "test-server" added to user settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of a project > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in the home directory > should use user scope when --scope=user is used
MCP server "test-server" added to user settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of home (not a project) > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when in a subdirectory of home (not a project) > should write to the WORKSPACE scope, not the USER scope
MCP server "my-new-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when handling scope and directory > when outside of home (not a project) > should use project scope by default
MCP server "test-server" added to project settings. (stdio)

stdout | src/commands/mcp/add.test.ts > mcp add command > when updating an existing server > should update the existing server in the project scope
MCP server "existing-server" is already configured within project settings.
MCP server "existing-server" updated in project settings.

stdout | src/commands/mcp/add.test.ts > mcp add command > when updating an existing server > should update the existing server in the user scope
MCP server "existing-server" is already configured within user settings.
MCP server "existing-server" updated in user settings.

 âœ“ src/ui/components/PermissionsModifyTrustDialog.test.tsx (7 tests) 246ms
 âœ“ src/commands/mcp/add.test.ts (20 tests) 175ms
stdout | src/ui/hooks/useIncludeDirsTrust.test.tsx > useIncludeDirsTrust > when folder trust is enabled and workspace is trusted > should add trusted dirs, collect untrusted errors, and open dialog for undefined
Creating custom dialog with undecidedDirs: [ [32m'/undefined'[39m ]

 âœ“ src/ui/components/LoadingIndicator.test.tsx (16 tests) 202ms
 âœ“ src/ui/components/messages/ToolMessage.test.tsx (12 tests) 366ms
 âœ“ src/ui/hooks/useIncludeDirsTrust.test.tsx (6 tests) 178ms
 âœ“ src/ui/commands/authCommand.test.ts (11 tests) 276ms
(node:2968470) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 error listeners added to [EventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 âœ“ src/config/extensions/github.test.ts (33 tests) 223ms
 âœ“ src/ui/components/AlternateBufferQuittingDisplay.test.tsx (5 tests) 313ms
 âœ“ src/ui/components/messages/Todo.test.tsx (14 tests) 290ms
 âœ“ src/ui/hooks/useToolScheduler.test.ts (23 tests) 167ms
 âœ“ src/ui/components/messages/GeminiMessage.test.tsx (4 tests) 140ms
 âœ“ src/ui/components/AboutBox.test.tsx (8 tests) 135ms
 âœ“ src/ui/components/IdeTrustChangeDialog.test.tsx (6 tests) 173ms
 âœ“ src/ui/components/views/McpStatus.test.tsx (12 tests) 240ms
 âœ“ src/ui/hooks/usePhraseCycler.test.tsx (13 tests) 219ms
 âœ“ src/ui/components/Help.test.tsx (3 tests) 168ms
 âœ“ src/ui/components/MultiFolderTrustDialog.test.tsx (8 tests) 162ms
 âœ“ src/ui/components/shared/DescriptiveRadioButtonSelect.test.tsx (2 tests) 120ms
 âœ“ src/ui/components/messages/ShellToolMessage.test.tsx (3 tests) 161ms
 âœ“ src/ui/hooks/useReverseSearchCompletion.test.tsx (10 tests) 180ms
 âœ“ src/ui/hooks/useSelectionList.test.tsx (45 tests) 228ms
(node:2969683) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 mcp-client-update listeners added to [EventEmitter]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/ui/components/Composer.test.tsx
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/Composer.test.tsx (20 tests) 260ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/LogoutConfirmationDialog.test.tsx (5 tests) 135ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Spinner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/Footer.test.tsx (21 tests) 218ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | updateHookTypesDev (/home/profharita/Code/terminaI/node_modules/react-reconciler/cjs/react-reconciler.development.js:3128:19)
React has detected a change in the order of Hooks called by TestComponent. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
1. useMemo                    useMemo
2. useReducer                 useReducer
3. useMemo                    useMemo
4. useMemo                    useMemo
5. useState                   useState
6. useEffect                  useEffect
7. useEffect                  useEffect
8. useEffect                  useEffect
9. useCallback                useCallback
10. useCallback               useCallback
11. useCallback               useCallback
12. useCallback               useCallback
13. useCallback               useCallback
14. useCallback               useCallback
15. useCallback               useCallback
16. useCallback               useCallback
17. useCallback               useCallback
18. useCallback               useCallback
19. useCallback               useCallback
20. useCallback               useCallback
21. useCallback               useCallback
22. useCallback               useCallback
23. useCallback               useCallback
24. useCallback               useCallback
25. useCallback               useCallback
26. useCallback               useCallback
27. useCallback               useCallback
28. useCallback               useCallback
29. useCallback               useCallback
30. useCallback               useCallback
31. useCallback               useCallback
32. useCallback               useCallback
33. useCallback               useCallback
34. useCallback               useCallback
35. useCallback               useCallback
36. useCallback               useCallback
37. useCallback               useCallback
38. useCallback               useCallback
39. useCallback               useCallback
40. useCallback               useCallback
41. useCallback               useCallback
42. useCallback               useCallback
43. useCallback               useCallback
44. useCallback               useCallback
45. useCallback               useCallback
46. useCallback               useCallback
47. useCallback               useCallback
48. useCallback               useCallback
49. useCallback               useCallback
50. useCallback               useCallback
51. useCallback               useCallback
52. useCallback               useCallback
53. useCallback               useCallback
54. useCallback               useCallback
55. useMemo                   useMemo
56. useCallback               useCallback
57. useCallback               useCallback
58. useCallback               useCallback
59. useCallback               useCallback
60. useCallback               useCallback
61. useMemo                   useMemo
62. useState                  useState
63. useState                  useState
64. useState                  useState
65. useState                  useState
66. useState                  useState
67. useState                  useState
68. useCallback               useCallback
69. useCallback               useCallback
70. useCallback               useCallback
71. useMemo                   useMemo
72. useEffect                 useState
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/hooks/useCommandCompletion.test.tsx (21 tests) 176ms
stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | ../../node_modules/react-reconciler/cjs/react-reconciler.development.js:13614:19
An update to Root inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 âœ“ src/ui/components/ShellConfirmationDialog.test.tsx (4 tests) 247ms
stdout | src/ui/commands/setupGithubCommand.test.ts > setupGithubCommand > throws an error when download fails
Failed to download required setup files:  Error: Invalid response code downloading https://raw.githubusercontent.com/google-github-actions/run-gemini-cli/refs/tags/v1.2.3/examples/workflows/gemini-dispatch/gemini-dispatch.yml: 404 - Not Found
    at [90m/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:132:17
    at async Promise.all (index 0)
    at downloadFiles [90m(/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:159:3[90m)[39m
    at async Promise.all (index 0)
    at downloadSetupFiles [90m(/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:185:5[90m)[39m
    at Object.action [90m(/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:242:5[90m)[39m
    at [90m/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.test.ts:220:5
    at file:///home/profharita/Code/terminaI/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20

stdout | src/ui/commands/setupGithubCommand.test.ts > updateGitignore > handles file system errors gracefully
Failed to update .gitignore: Error: ENOENT: no such file or directory, open '/tmp/update-gitignore-MC8klU/non-existent/.gitignore'
[90m    at open (node:internal/fs/promises:642:25)[39m
[90m    at Object.writeFile (node:internal/fs/promises:1249:14)[39m
    at Module.updateGitignore [90m(/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:83:7[90m)[39m
    at [90m/home/profharita/Code/terminaI/packages/cli/[39msrc/ui/commands/setupGithubCommand.test.ts:323:5
    at file:///home/profharita/Code/terminaI/node_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:20 {
  errno: [33m-2[39m,
  code: [32m'ENOENT'[39m,
  syscall: [32m'open'[39m,
  path: [32m'/tmp/update-gitignore-MC8klU/non-existent/.gitignore'[39m
}

 âœ“ src/ui/commands/setupGithubCommand.test.ts (10 tests) 126ms
 âœ“ src/ui/components/DialogManager.test.tsx (18 tests) 123ms
 âœ“ src/ui/components/messages/CompressionMessage.test.tsx (8 tests) 176ms
 âœ“ src/ui/components/ConsentPrompt.test.tsx (5 tests) 172ms
 âœ“ src/ui/components/LoopDetectionConfirmation.test.tsx (2 tests) 140ms
 âœ“ src/ui/privacy/CloudFreePrivacyNotice.test.tsx (9 tests) 165ms
 âœ“ src/ui/components/ToolStatsDisplay.test.tsx (5 tests) 124ms
 âœ“ src/ui/components/ProQuotaDialog.test.tsx (8 tests) 132ms
 âœ“ src/ui/components/Notifications.test.tsx (8 tests) 136ms
 âœ“ src/utils/sandbox.test.ts (7 tests) 97ms
 âœ“ src/ui/components/views/ToolsList.test.tsx (3 tests) 130ms
 âœ“ src/ui/components/shared/EnumSelector.test.tsx (9 tests) 199ms
 âœ“ src/ui/hooks/usePrivacySettings.test.tsx (4 tests) 117ms
 âœ“ src/ui/auth/ApiAuthDialog.test.tsx (6 tests) 154ms
 âœ“ src/ui/hooks/useKeypress.test.tsx (22 tests) 114ms
stdout | src/config/settings.test.ts > Settings Loading and Merging > migrateDeprecatedSettings > should migrate disabled extensions from user and workspace settings
Migrating deprecated extensions.disabled settings from User settings...
Migrating deprecated extensions.disabled settings from Workspace settings...

stderr | src/config/settings.test.ts > Settings Loading and Merging > migrateDeprecatedSettings > should migrate disabled extensions from user and workspace settings
[WARN] Skipping unreadable directory: /mock/workspace (ENOENT: no such file or directory, stat '/mock/workspace')

stderr | src/config/settings.test.ts > Settings Loading and Merging > migrateDeprecatedSettings > should not do anything if there are no deprecated settings
[WARN] Skipping unreadable directory: /mock/workspace (ENOENT: no such file or directory, stat '/mock/workspace')

 âœ“ src/ui/hooks/shellCommandProcessor.test.tsx (20 tests) 131ms
 âœ“ src/config/settings.test.ts (67 tests | 3 skipped) 123ms
 âœ“ src/ui/components/SuggestionsDisplay.test.tsx (6 tests) 107ms
 âœ“ src/ui/components/Table.test.tsx (3 tests) 65ms
 âœ“ src/voice/stt/StreamingWhisper.test.ts (3 tests) 88ms
 âœ“ src/ui/components/SessionSummaryDisplay.test.tsx (1 test) 131ms
 âœ“ src/ui/components/PrepareLabel.test.tsx (6 tests) 68ms
 âœ“ src/ui/components/views/ExtensionsList.test.tsx (10 tests) 158ms
 âœ“ src/ui/hooks/useMessageQueue.test.tsx (14 tests) 152ms
 âœ“ src/ui/components/shared/TextInput.test.tsx (11 tests) 93ms
 âœ“ src/ui/commands/chatCommand.test.ts (30 tests) 80ms
 âœ“ src/ui/auth/ProviderWizard.test.tsx (4 tests) 169ms
 âœ“ src/ui/components/QueuedMessageDisplay.test.tsx (5 tests) 80ms
 âœ“ src/ui/hooks/useFolderTrust.test.ts (12 tests) 91ms
 âœ“ src/ui/auth/AuthInProgress.test.tsx (5 tests) 80ms
 âœ“ src/config/extensions/extensionSettings.test.ts (23 tests) 99ms
 âœ“ src/ui/hooks/useAutoAcceptIndicator.test.ts (17 tests) 93ms
 âœ“ src/utils/sessionCleanup.test.ts (70 tests) 122ms
 âœ“ src/ui/hooks/useInputHistoryStore.test.ts (14 tests) 53ms
 âœ“ src/utils/commentJson.test.ts (12 tests) 37ms
stdout | src/commands/mcp/remove.test.ts > mcp remove command > unit tests with mocks > should remove a server from project settings
Server "test-server" removed from project settings.

 âœ“ src/ui/utils/CodeColorizer.test.tsx (1 test) 71ms
 âœ“ src/commands/mcp/remove.test.ts (6 tests) 57ms
 âœ“ src/ui/components/AnsiOutput.test.tsx (12 tests) 74ms
 âœ“ src/ui/components/VoiceOrb.test.tsx (2 tests) 78ms
 âœ“ src/ui/components/shared/Scrollable.test.tsx (4 tests) 110ms
 âœ“ src/ui/contexts/ScrollProvider.drag.test.tsx (6 tests) 54ms
 âœ“ src/ui/components/MemoryUsageDisplay.test.tsx (2 tests) 58ms
 âœ“ src/ui/hooks/useIdeTrustListener.test.tsx (5 tests) 40ms
 âœ“ src/ui/commands/restoreCommand.test.ts (13 tests) 60ms
 âœ“ src/ui/contexts/ScrollProvider.test.tsx (9 tests) 52ms
 âœ“ src/ui/hooks/usePermissionsModifyTrust.test.ts (13 tests) 52ms
stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should create a new session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should create a new session with mcp servers
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should handle authentication failure gracefully
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should initialize file system service if client supports it
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should cancel a session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

stdout | src/zed-integration/zedIntegration.test.ts > GeminiAgent > should delegate prompt to session
[STARTUP] StartupProfiler.flush() called with [33m0[39m phases

TEST: calling prompt
TEST: waiting for streamStarted
TEST: asyncStream started
TEST: waiting for read
TEST: streamStarted
TEST: cancelled
TEST: stream closed
TEST: read returned done=true
TEST: releasing lock
TEST: result received {"stopReason":"cancelled"}
stderr | src/zed-integration/zedIntegration.test.ts > Session > should ignore files based on configuration
Path ignored.txt is ignored and will be skipped.
No valid file paths found in @ commands to read.

 âœ“ src/zed-integration/zedIntegration.test.ts (20 tests) 74ms
 âœ“ src/ui/privacy/GeminiPrivacyNotice.test.tsx (2 tests) 72ms
 âœ“ src/ui/kit/InteractiveBox.test.tsx (2 tests) 70ms
 âœ“ src/ui/components/DetailedMessagesDisplay.test.tsx (3 tests) 71ms
 âœ“ src/ui/privacy/CloudPaidPrivacyNotice.test.tsx (2 tests) 82ms
 âœ“ src/config/extensions/extensionEnablement.test.ts (48 tests) 43ms
 âœ“ src/ui/hooks/useEditorSettings.test.tsx (10 tests) 45ms
 âœ“ src/ui/commands/hooksCommand.test.ts (24 tests) 56ms
 âœ“ src/ui/components/StickyHeader.test.tsx (2 tests) 59ms
 âœ“ src/ui/components/DebugProfiler.test.tsx (13 tests) 56ms
 âœ“ src/ui/components/views/ChatList.test.tsx (3 tests) 58ms
 âœ“ src/ui/hooks/useSessionResume.test.ts (12 tests) 42ms
stdout | src/commands/extensions/new.test.ts > extensions new command > should create directory when no template is provided
Successfully created new extension at /some/path.
You can install this using "gemini extensions link /some/path" to test it out.

stdout | src/commands/extensions/new.test.ts > extensions new command > should create directory and copy files when path does not exist
Successfully created new extension from template "context" at /some/path.
You can install this using "gemini extensions link /some/path" to test it out.

 âœ“ src/commands/extensions/new.test.ts (4 tests) 41ms
 âœ“ src/ui/components/CliSpinner.test.tsx (1 test) 54ms
 âœ“ src/ui/components/messages/WarningMessage.test.tsx (2 tests) 48ms
 âœ“ src/ui/components/Tips.test.tsx (2 tests) 41ms
 âœ“ src/ui/hooks/useLoadingIndicator.test.tsx (6 tests) 65ms
 âœ“ src/utils/cleanup.test.ts (8 tests) 45ms
 âœ“ src/ui/components/messages/ErrorMessage.test.tsx (2 tests) 55ms
 âœ“ src/ui/commands/extensionsCommand.test.ts (38 tests) 69ms
 âœ“ src/commands/hooks/migrate.test.ts (17 tests) 32ms
 âœ“ src/ui/components/messages/InfoMessage.test.tsx (3 tests) 52ms
 âœ“ src/services/prompt-processors/shellProcessor.test.ts (33 tests) 48ms
 âœ“ src/ui/components/ConsoleSummaryDisplay.test.tsx (3 tests) 52ms
 âœ“ src/ui/components/ContextSummaryDisplay.test.tsx (4 tests) 51ms
 âœ“ src/ui/hooks/useFocus.test.tsx (6 tests) 48ms
 âœ“ src/ui/contexts/MouseContext.test.tsx (15 tests) 64ms
 âœ“ src/ui/contexts/SessionContext.test.tsx (4 tests) 46ms
 âœ“ src/ui/hooks/useHistoryManager.test.ts (8 tests) 52ms
 âœ“ src/voice/voiceController.test.ts (2 tests) 36ms
stderr | src/ui/utils/commandUtils.test.ts > commandUtils > getUrlOpenCommand > on unmatched OS > should return xdg-open
Unknown platform: unmatched. Attempting to open URLs with: xdg-open.

 âœ“ src/ui/utils/commandUtils.test.ts (22 tests) 49ms
 âœ“ src/ui/components/UpdateNotification.test.tsx (1 test) 45ms
 âœ“ src/ui/hooks/useInputHistory.test.ts (11 tests) 49ms
 âœ“ src/ui/components/ConfigInitDisplay.test.tsx (4 tests) 58ms
 âœ“ src/ui/hooks/useConsoleMessages.test.tsx (7 tests) 57ms
 âœ“ src/ui/components/shared/RadioButtonSelect.test.tsx (5 tests) 48ms
 âœ“ src/ui/hooks/useAnimatedScrollbar.test.tsx (7 tests) 54ms
 âœ“ src/ui/hooks/useModelCommand.test.tsx (3 tests) 44ms
 âœ“ src/ui/hooks/useMemoryMonitor.test.tsx (3 tests) 39ms
stdout | src/gemini.test.tsx > gemini.tsx main function > verifies that we dont load the config before relaunchAppInChildProcess
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should call setRawMode and detectCapabilities when isInteractive is true
[DEBUG] CLI: main() called


[2mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m[1m[38;2;226;35;26m terminaI â”‚ 06:49:55 [0m[2mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

]2;TerminaI - cli[DEBUG] CLI: main() called[DEBUG] CLI: main() calledstderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should handle --'listSessions' flag
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should handle --'deleteSession' flag
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should handle sandbox activation
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should log warning when theme is not found
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should handle session selector error
[DEBUG] CLI: main() called


[2mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m[1m[38;2;226;35;26m terminaI â”‚ 06:49:55 [0m[2mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

stderr | src/gemini.test.tsx > gemini.tsx main function kitty protocol > should read from stdin in non-interactive mode
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function exit codes > should exit with 42 for invalid input combination (prompt-interactive with non-TTY)
[DEBUG] CLI: main() called

Error: The --prompt-interactive flag cannot be used when input is piped from stdin.
stderr | src/gemini.test.tsx > gemini.tsx main function exit codes > should exit with 41 for auth failure during sandbox setup
[DEBUG] CLI: main() called

stderr | src/gemini.test.tsx > gemini.tsx main function exit codes > should exit with 42 for session resume failure
[DEBUG] CLI: main() called

 âœ“ src/ui/auth/AuthProviderWizardFlow.test.tsx (5 tests) 56ms
stderr | src/gemini.test.tsx > gemini.tsx main function exit codes > should exit with 42 for no input provided
[DEBUG] CLI: main() called

]2;TerminaI - root[?7l]2;TerminaI - root[?7l]2;TerminaI - root[?7l]2;TerminaI - root[?7l]2;TerminaI - root[?7l]2;TerminaI - root[?7l âœ“ src/config/keyBindings.test.ts (6 tests) 28ms
 âœ“ src/gemini.test.tsx (33 tests | 1 skipped) 171ms
 âœ“ src/ui/components/ShowMoreLines.test.tsx (5 tests) 45ms

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
Error: ENOENT: no such file or directory, open '/home/profharita/Code/terminaI/packages/cli/coverage/.tmp/coverage-156.json'
 â¯ open node:internal/fs/promises:642:25
 â¯ Object.writeFile node:internal/fs/promises:1249:14

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { errno: -2, code: 'ENOENT', syscall: 'open', path: '/home/profharita/Code/terminaI/packages/cli/coverage/.tmp/coverage-156.json' }



npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /home/profharita/Code/terminaI/packages/cli
npm error workspace @terminai/cli@0.28.0
npm error location /home/profharita/Code/terminaI/packages/cli
npm error command failed
npm error command sh -c vitest run --passWithNoTests --no-color
